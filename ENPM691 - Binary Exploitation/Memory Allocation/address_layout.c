/*
 * Author: T3rminux
 * Objective: This program demonstrates how different types of variable declarations 
 * influence the placement of variables in memory (stack, heap, global, etc.).
 * The program prints the memory addresses of local, heap, global, and static variables
 * to showcase their respective memory segments.
 * 
 * Compilation:
 * To compile this code for a 32-bit architecture with debugging information:
 * gcc -m32 -g address_layout.c -o address_layout
 */

#include <stdio.h>
#include <stdlib.h>
#include "global_vars.h" // Include the header file for global variables and function declaration

int main() {
    // Local variables (stored in the stack segment)
    int local_var_1 = 0;
    int local_var_2 = 0;

    // Heap variables (allocated dynamically, stored in the heap segment)
    int *ptr_1 = malloc(100); // Allocates 100 bytes on the heap
    int *ptr_2 = malloc(100); // Allocates another 100 bytes on the heap

    // Print addresses of local variables
    printf("Local variable 1 address: %p (Stack)\n", &local_var_1);
    printf("Local variable 2 address: %p (Stack)\n", &local_var_2);

    // Print addresses of heap variables
    printf("Heap variable 1 address: %p (Heap)\n", ptr_1);
    printf("Heap variable 2 address: %p (Heap)\n", ptr_2);

    // Call function to print global and static variable addresses
    printf("Global and static variables (from global_vars.c):\n");
    print_global_vars();

    // Free allocated heap memory to prevent memory leaks
    free(ptr_1);
    free(ptr_2);

    return 0;
}

